<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <!--DO NOT FORGET THIS SCRIPT TAG SO YOU CAN USE JQUERY!!!!!-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!--YOUR OWN JAVASCRIPT CAN GO RIGHT HERE-->
    <script type="text/javascript">


        // Figure out how to pass parameters uid and pass into WebMethod "LogOn" found in ProjectServices.asmx
        function LogOn(username, password) {
            //var username = document.getElementById("user").value;
            //var password = document.getElementById("pass").value;
            //alert(username + password)
            var webMethod = "ProjectServices.asmx/LogOn";
            // I THINK ALL WE NEED TO DO IS FIGURE OUT HOW TO PROPERLY FORMAT THE LINE BELOW
            var parameters = "{\"uid\":\"" + encodeURI(username) + "\",\"pass\":\"" + encodeURI(password) + "\"}";

			//jQuery ajax method
			$.ajax({
				type: "POST",
                url: webMethod,
				data: parameters,
				contentType: "application/json; charset=utf-8",
				dataType: "json",
				success: function (msg) {
                    if (msg.d) {
                        //server replied true
                        //validated credentials, can now redirect to homepage
                        window.location.href = "./result_page.html";
                    }
                    // server replied false, cannot validate        
                    else {
                        alert("Login Failed. Try Again.")

                    }
                      
				},
				error: function (e) {
					alert("this code will only execute if javascript is unable to access the webservice");
				}
			});
		}
    </script>
    <!--END OF YOUR OWN JAVASCRIPT-->
    <!--AND YOUR OWN CSS CAN GO HERE AS WELL-->
    <style>
    </style>
    <!--END OF YOUR OWN CSS-->
</head>
<body>
    <center>
        <h3>Login Here</h3>

        <form onsubmit="LogOn($('#user').val(), $('#pass').val()); return false;">
            <table>
                <tr>
                    <td>Username:</td>
                    <td>
                        <input type="text" name="user" id="user"/>
                    </td>
                </tr>

                <tr>
                    <td>Password:</td>
                    <td>
                        <input type="password" name="user_pass" id="pass"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="submit">Sign In</button>
                    </td>
                </tr>
            </table>
        </form>
    </center>
</body>
</html>